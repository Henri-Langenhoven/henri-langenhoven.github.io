<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="//henri-langenhoven.github.io/things/stylesheet.css" />
  <link rel="stylesheet" href="//henri-langenhoven.github.io/things/github.css" />
  <title>Render an object in front of everything else</title>
</head>

<body>
  <article class="markdown-body">
    <h1 id="render-an-object-in-front-of-everything-else">Render an object in front of everything else<a
        class="headerlink" href="#render-an-object-in-front-of-everything-else" title="Permanent link">ÓÖó</a></h1>
    <p>I had the same problem as <a
        href="https://blender.stackexchange.com/questions/196821/how-to-render-object-in-front-of-everything-else">this
        StackExchange post</a>, and the one and only answer at the time of writing suggested making a new scene. I tried
      that at first, but it seemed to add unnecessary complexity and I got confused. Then I read the comments, and
      <a
        href="https://blender.stackexchange.com/questions/196821/how-to-render-object-in-front-of-everything-else#comment330043_196822">this
        comment</a>,
      suggested making a separate view layer instead. I looked up the <a
        href="https://docs.blender.org/manual/en/4.5/render/layers/introduction.html">documentation on view layers</a>,
      and tried going with that solution. Because the comment didn't include steps though, I was still floundering
      around, until I looked at the <a href="https://blender.stackexchange.com/a/196822">answer</a> again, and happened
      to see what looked like "view layers" in one of the <a
        href="https://blender.stackexchange.com/questions/196821/how-to-render-object-in-front-of-everything-else/196822#comment330043_196822:~:text=Share-,Improve%20this%20answer,-Follow">images</a>.
      So I investigated the "<a
        href="https://docs.blender.org/manual/en/4.5/compositing/introduction.html">Compositor</a>,"
      combined the two suggestions, and voil√†!
    </p>
    <p>Without further ado, let's crunch the numbers:</p>

    <h3 id="make-a-new-view-layer">1. Make a new "View Layer"<a class="headerlink" href="#make-a-new-view-layer"
        title="Permanent link">ÓÖó</a></h3>

    <p>Click the button that looks like a copy icon (highlighted in the image below) top right above the Outliner (the
      scene view hierarchy thingy top right).</p>

    <img
      src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/new%20view%20layer.jpg"
      alt="New view layer" width="384" height="114" />

    <h3 id="make-the-background-transparent">2. Make the background transparent<a class="headerlink"
        href="#make-the-background-transparent" title="Permanent link">ÓÖó</a></h3>

    <p>This step is non-obvious and probably would have tripped me up, but thankfully I remembered something about
      transparency in the StackExchange
      <a
        href="https://blender.stackexchange.com/questions/196821/how-to-render-object-in-front-of-everything-else#:~:text=The%20robot%20scene%20should%20have%20a%20transparent%20background%20(Select%20Film%20Transparent%20in%20the%20Rendering%20Properties%20menu).">answer</a>.
      It was in relation to multiple scenes but turns out it's still necessary for view layers. Click on "Render" (the
      old-school
      camera icon) in the right sidebar, scroll down to "Film," expand it, then check the "Transparent" box.
    </p>

    <img
      src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/render%20-%20film%20-%20transparent.jpg"
      alt="Render - Film - Transparent" width="533" height="529" />

    <h3 id="make-a-new-collection">3. Make a new "Collection"<a class="headerlink" href="#make-a-new-collection"
        title="Permanent link">ÓÖó</a></h3>

    <p>Right-click the "Scene Collection" in the Outliner (the scene view hierarchy thingy top right). Then choose "New
      Collection". To rename a collection, double-click its name in the Outliner.</p>

    <img
      src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/new%20collection.jpg"
      alt="New collection" width="506" height="114" />

    <h3 id="rearrange-your-scene">4. Rearrange your scene<a class="headerlink" href="#rearrange-your-scene"
        title="Permanent link">ÓÖó</a></h3>

    <p>Put the object(s) you want to show in front of everything else in a separate collection from the rest of your
      scene. E.g. I wanted a cube in the below image to render over the rest of the scene, so I put it in its own
      collection. I linked the "Sun" from the other collection because I also wanted the front cube to be lit. Notice
      the "Sun" is highlighted in both collections (to link an object to another collection, start dragging it to the
      other collection, then <i>while</i> holding down the mouse (<i>not before</i>), press and hold down Ctrl, then
      release the mouse over the desired collection).</p>

    <img
      src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/rearrange%20your%20scene.jpg"
      alt="Rearrange your scene" width="325" height="302" />

    <h3 id="poke-around-exclude-the-collections-you-dont-want-in-each-view-layer">5. <s>Poke around</s> Exclude the
      collections you don't want in each view layer<a class="headerlink"
        href="#poke-around-exclude-the-collections-you-dont-want-in-each-view-layer" title="Permanent link">ÓÖó</a></h3>

    <p>This and subsequent steps took the longest, because the
      <a
        href="https://blender.stackexchange.com/questions/196821/how-to-render-object-in-front-of-everything-else#comment330043_196822">comment</a>
      was very sparse on details. After a bit of
      <a href="https://docs.blender.org/manual/en/4.5/render/layers/introduction.html#usage">reading</a> and poking
      around in Blender, I figured it out though. Basically you need to deselect all the collections you don't want in
      each view layer. The key thing is making sure the correct view layer is selected while you do this.
    </p>

    <ol>
      <li>
        <p>Select a different view layer by clicking the button with the "stack of images" icon to the left of the view
          layer name (highlighted in the image below). Then click the one you want to switch to.</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/select%20different%20view%20layer.jpg"
          alt="Select a different view layer" width="398" height="168" />
      </li>
      <li>
        <p>Deselect the collections you don't want included in your currently selected view layer (rename a view layer
          by clicking its name).</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/uncheck%20collections%20you%20don't%20want.jpg"
          alt="Example of the background collection" width="394" height="320" />
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/uncheck%20collections%20you%20don't%20want%202.jpg"
          alt="Example of the foreground collection" width="333" height="159" />
      </li>
    </ol>

    <h3 id="now-what-combine-the-two-view-layers-using-the-compositor">6. <s>Now what?</s> Combine the two view layers
      using the "Compositor"<a class="headerlink" href="#now-what-combine-the-two-view-layers-using-the-compositor"
        title="Permanent link">ÓÖó</a></h3>
    <p>I had to poke around quite a bit here, because the StackExchange answer is more than five years old at the time
      of writing, and quite a lot has changed in the Compositor between Blender 2.8'ish and the version I'm using
      (4.5.2).</p>
    <p>For posterity, I've documented my floundering here:
    <ul>
      <li>Initially, I made a Utilities&gt;Mix node, wired it up and left the defaults. That kind-of worked, until I
        realised materials weren't showing up.</li>
      <li>Then I saw the Mix node had a drop-down next to "Float," so I chose "Color," which seemed to fix the material
        issue.</li>
      <li>Then I <a href="https://docs.blender.org/manual/en/4.5/compositing/types/color/mix/alpha_over.html">read
          the docs</a> ü•Å</li>
    </ul>
    </p>
    <h3 id="the-right-way">The "right way" to do it<a class="headerlink" href="#the-right-way"
        title="Permanent link">ÓÖó</a></h3>
    <p>I think using the <a
        href="https://docs.blender.org/manual/en/4.5/compositing/types/color/mix/alpha_over.html">Alpha Over</a> node is
      probably the closest to the "right way" to do it, so that's the one I present as the solution.</p>

    <ol>
      <li>
        <p>Open a new editor window or change an existing one to a "Compositor" window. Newer versions of Blender have
          nice workflow presets, so I just chose the "Compositing" workflow.</p>
        <p>Then click "Use Nodes." You might get some pre-generated nodes. Just delete them.</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/compositor.jpg"
          alt="Steps to open a compositor window" width="335" height="200" />
      </li>
      <li>
        <p>Click the "Add" button (or right-click anywhere in the window), navigate to "Input," then "Scene," then click
          "Render Layers."</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/render%20layers.jpg"
          alt="Steps to make a Render Layers node" width="700" height="402" />
        <p>On the "Render Layers" node, click the drop-down under "Scene" and choose the background view layer you
          made earlier.</p>
        <p>Then make another "Render Layers" node, and set it to your foreground view layer.</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/two%20render%20layers.jpg"
          alt="The two Render Layers nodes" width="271" height="317" />
      </li>
      <li>
        <p>Click "Add," navigate to "Color," then "Mix," then click "Alpha Over."</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/alpha%20over.jpg"
          alt="Steps to make an Alpha Over node" width="700" height="129" />
      </li>
      <li>
        <p>Click "Add," navigate to "Output," then click "Composite."</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/composite.jpg"
          alt="Steps to make a Composite node" width="695" height="117" />
      </li>
      <li>
        <p>Connect the <i>background</i> Render Layers node's Image output to the Alpha Over node's <i>top</i> Image
          input (click, drag, release).</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/bottom%20to%20top.jpg"
          alt="Connect background render layer to top image" width="504" height="371" />
      </li>
      <li>
        <p>Connect the <i>foreground</i> Render Layers node's Image output to the Alpha Over node's <i>bottom</i> Image
          input (click, drag, release).</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/top%20to%20bottom.jpg"
          alt="Connect foreground render layer to bottom image" width="506" height="377" />
      </li>
      <li>
        <p>Connect the <i>foreground</i> Render Layers node's Alpha output to the Alpha Over node's Fac input (click,
          drag, release).</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/alpha%20to%20fac.jpg"
          alt="Connect foreground render layer alpha to Fac" width="495" height="362" />
      </li>
      <li>
        <p>And finally, connect the Alpha Over node's Image output to the Composite node's Image input.</p>
        <img
          src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/alpha%20over%20and%20out.jpg"
          alt="Connect alpha over to composite" width="700" height="358" />
      </li>
    </ol>

    <h3 id="success">Success!<a class="headerlink" href="#success" title="Permanent link">ÓÖó</a></h3>
    <p>Press F12 or click on "Render," then "Render Image" and enjoy!
      <img
        src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/mhm%20yeah.jpg"
        alt="How to render" width="198" height="171" />
    </p>
    <img
      src="https://henri-langenhoven.github.io/things/blender/render%20an%20object%20in%20front%20of%20everything%20else/success.jpg"
      alt="Success" width="700" height="368" />
    <p>Alright, back to it then.</p>
  </article>
</body>

</html>
